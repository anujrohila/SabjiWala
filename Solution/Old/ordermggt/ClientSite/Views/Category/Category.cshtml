@model ClientSite.VegitableGalleryModel
@{
    ViewBag.Title = "Category";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $(".jqSubCategory").click(function () {
            $(".jqProduct").hide();
            $('[data-ParentCategory="' + $(this).attr("data-id") + '"]').show();
        });
    });
</script>


<div class="container main-container headerOffset">

    <!-- Main component call to action -->
    @foreach (var item in Model.CategoryList)
                {   
        
    <div class="row">
        <div class="breadcrumbDiv col-lg-12">
            <ul class="breadcrumb">
                <li><a href="@Url.Action("Index", "Home")">Home</a> </li>
                <li class="active">@item.CategoryName </li>
            </ul>
        </div>
    </div>
    <!-- /.row  -->
    }
    <div class="row">

        <!--left column-->

        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="panel-group" id="accordionNo">
                <!--Category-->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title"><a data-toggle="collapse" href="#collapseCategory" class="collapseWill"><span class="pull-left"><i class="fa fa-caret-right"></i></span>Category </a></h4>
                    </div>
                    <div id="collapseCategory" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <ul class="nav nav-pills nav-stacked tree">
                                <li class="active dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("VegetableGallery", "Category")"><span class="badge pull-right">42</span> Vegetable </a>
                                    <ul class="category-level-2 dropdown-menu-tree">
                                        <li class="dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("CommonVegetable", "SubCategory")">Coomon Vegetable</a>
                                            <ul class="category-level-2 dropdown-menu-tree">
                                                <li><a href="#">Potato </a></li>
                                                <li><a href="#">Tomato </a></li>
                                                <li><a href="#">Cabbage </a></li>
                                                <li><a href="#">Carrot </a></li>
                                                <li><a href="#">Onion </a></li>
                                                <li><a href="#">Brinjal </a></li>
                                                <li><a href="#">Cauliflower </a></li>
                                                <li><a href="#">Ledies Fingers </a></li>
                                                <li><a href="#">Botle Gourd </a></li>
                                                <li><a href="#">Bitter Gourd </a></li>
                                                <li><a href="#">Capsicum </a></li>
                                                <li><a href="#">Cucumber </a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("LeafyVegetable", "SubCategory")">Leafy Vegetable</a>
                                            <ul class="category-level-2 dropdown-menu-tree">
                                                <li><a href="#">Spinch </a></li>
                                                <li><a href="#">Fenugreek leaves </a></li>
                                                <li><a href="#">Curry patta </a></li>
                                                <li><a href="#">Lalmuth </a></li>
                                                <li><a href="#">Pudina/Mint </a></li>
                                                <li><a href="#">Shepu/Dill leaves </a></li>
                                                <li><a href="#">All </a></li>
                                                <li><a href="#">Spring onion </a></li>
                                                <li><a href="#">White Radish </a></li>
                                            </ul>
                                        </li>

                                        <li class="dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("ExoticVegetable", "SubCategory")">Exotic Vegetable</a>
                                            <ul class="category-level-2 dropdown-menu-tree">
                                                <li><a href="#">Red cabbage</a></li>
                                                <li><a href="#">Celery </a></li>
                                                <li><a href="#">Yellow Bell pepper </a></li>
                                                <li><a href="#">Red Bell pepper </a></li>
                                                <li><a href="#">Avocado </a></li>
                                                <li><a href="#">Broccoli </a></li>
                                                <li><a href="#">All </a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>

                                <li class="active dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("FruitGallery", "Category")"><span class="badge pull-right">42</span> Fruit </a>
                                    <ul class="category-level-2 dropdown-menu-tree">
                                        <li class="dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("Fruit", "SubCategory")">Fruit</a>
                                            <ul class="category-level-2 dropdown-menu-tree">
                                                <li><a href="#">Apple </a></li>
                                                <li><a href="#">Banana </a></li>
                                                <li><a href="#">Black grapes </a></li>
                                                <li><a href="#">Green grapes</a></li>
                                                <li><a href="#">Chiku</a></li>
                                                <li><a href="#">Mosambi </a></li>
                                                <li><a href="#">All </a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-tree open-tree"><a class="dropdown-tree-a" href="@Url.Action("ExoticFruit", "SubCategory")">Exotic Fruit</a>
                                            <ul class="category-level-2 dropdown-menu-tree">
                                                <li><a href="#">Dragon Fruit </a></li>
                                                <li><a href="#">Fig </a></li>
                                                <li><a href="#">Green Apple </a></li>
                                                <li><a href="#">Kiwi </a></li>
                                                <li><a href="#">Dragan Fruit </a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
                <!--/Category menu end-->

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title"><a class="collapseWill" data-toggle="collapse" href="#collapsePrice">Price <span class="pull-left"><i class="fa fa-caret-right"></i></span></a><span class="pull-right clearFilter  label-danger">Clear </span></h4>
                    </div>
                    <div id="collapsePrice" class="panel-collapse collapse in">
                        <div class="panel-body priceFilterBody">
                            <!-- -->
                            <label>
                                <input type="radio" name="agree" value="0" />
                                100$ - 500$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="1" />
                                500$ - 1000$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="2" />
                                1000$ - 1500$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="3" />
                                1500$ - 2000$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="4" />
                                2000$ - 2500$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="5" />
                                2500$ - 3000$</label>
                            <br>
                            <label>
                                <input type="radio" name="agree" value="6" disabled checked />
                                Don't know</label>
                            <hr>
                            <p>Enter a Price range </p>
                            <form class="form-inline " role="form">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="exampleInputEmail2" placeholder="2000 $">
                                </div>
                                <div class="form-group sp">- </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="exampleInputPassword2" placeholder="3000 $">
                                </div>
                                <button type="submit" class="btn btn-default pull-right">check</button>
                            </form>
                        </div>
                    </div>
                </div>
                <!--/price panel end-->



                <!--/color panel end-->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title"><a data-toggle="collapse" href="#collapseThree" class="collapseWill">Discount <span class="pull-left"><i class="fa fa-caret-right"></i></span></a></h4>
                    </div>
                    <div id="collapseThree" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="block-element">
                                <label>
                                    <input type="checkbox" name="tour" value="3" />
                                    Non-Discounted items
                                </label>
                            </div>
                            <div class="block-element">
                                <label>
                                    <input type="checkbox" name="tour" value="3" />
                                    Discounted items
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/discount  panel end-->
            </div>
        </div>

        <!--right column-->
        <div class="col-lg-9 col-md-9 col-sm-12">
             @foreach (var item in Model.CategoryList)
                {   
               
            <div class="w100 clearfix category-top">
                <h2>@item.CategoryName</h2>
                <div class="categoryImage">
                    <img src="@string.Format("{0}Images/Category/{1}", ClientSite.Utility.ApplicationClass.ApplicationPath, item.CategoryImage)" class="img-responsive" alt="img">
                </div>
            </div>
             }
            <!--/.category-top-->
           
             <div class="row subCategoryList clearfix">
                @foreach (var item in Model.SubCategoryList)
                {   
                  
                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6  text-center jqSubCategory" data-id="@item.SubCategoryID">
                        <div class="thumbnail equalheight">
                            <a class="subCategoryThumb" href="javascript:void(0)">
                                <img src="@string.Format("{0}Images/Subcategory/{1}", ClientSite.Utility.ApplicationClass.ApplicationPath, item.SubCategoryImage)" class="img-rounded " alt="img">
                            </a><a class="subCategoryTitle"><span>@item.SubCategoryName </span></a>
                        </div>
                    </div>
                
                }
            </div>
            <!--/.subCategoryList-->

            <div class="w100 productFilter clearfix">
                <p class="pull-left">Showing <strong>12</strong> products </p>
                <div class="pull-right ">
                    <div class="change-order pull-right">
                        <select class="form-control" name="orderby">
                            <option selected="selected">Default sorting</option>
                            <option value="popularity">Sort by popularity</option>
                            <option value="rating">Sort by average rating</option>
                            <option value="date">Sort by newness</option>
                            <option value="price">Sort by price: low to high</option>
                            <option value="price-desc">Sort by price: high to low</option>
                        </select>
                    </div>
                    <div class="change-view pull-right"><a href="#" title="Grid" class="grid-view"><i class="fa fa-th-large"></i></a><a href="#" title="List" class="list-view "><i class="fa fa-th-list"></i></a></div>
                </div>
            </div>
            <!--/.productFilter-->
            <div class="row  categoryProduct xsResponse clearfix">
                <!--/.item-->
                @foreach (var item in Model.ProductListing)
                {
                  
                    <div class="item col-sm-4 col-lg-4 col-md-4 col-xs-6 jqProduct" data-ParentCategory="@item.SubCategoryID">
                        <div class="product">
                            <a class="add-fav tooltipHere" data-toggle="tooltip" data-original-title="Add to Wishlist" data-placement="left">
                                <i class="glyphicon glyphicon-heart"></i>
                            </a>

                               <div class="image">
                                <div class="quickview">
                                   <a title="Quick View" class="btn btn-xs  btn-quickview viewItemDetail" data-toggle="modal" id="@item.ProductID">Quick View </a>
                                </div>

                                <a href="product-details.html">
                                    <img src="@string.Format("{0}Images/Product/{1}", ClientSite.Utility.ApplicationClass.ApplicationPath, item.ProductImage)" alt="img" class="img-responsive"></a>
                                <div class="promotion"><span class="new-product">NEW</span> <span class="discount">15% OFF</span> </div>
                            </div>
                            <div class="description">
                                <h4>@item.ProductName</h4>
                                <div class="grid-description">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>
                                </div>
                                <div class="list-description">
                                    <p>Sed sed rutrum purus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque risus lacus, iaculis in ante vitae, viverra hendrerit ante. Aliquam vel fermentum elit. Morbi rhoncus, neque in vulputate facilisis, leo tortor sollicitudin odio, quis pellentesque lorem nisi quis enim. In dolor mi, hendrerit at blandit vulputate, congue a purus. Sed eget turpis sit amet orci euismod accumsan. Praesent sit amet placerat elit. </p>
                                </div>
                                <span class="size"></span>
                            </div>
                            <div class="price fa fa-inr"><span>@item.ProductPrice</span> </div>
                            <div class="action-control"><a class="btn btn-primary"><span class="add2cart"><i class="glyphicon glyphicon-shopping-cart"></i>Add to cart </span></a></div>
                        </div>
                    </div>
                   
                }

            </div>
            <!--/.categoryProduct || product content end-->

            <div class="w100 categoryFooter">
                <div class="pagination pull-left no-margin-top">
                    <ul class="pagination no-margin-top">
                        <li><a href="#">«</a></li>
                        <li class="active"><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li><a href="#">»</a></li>
                    </ul>
                </div>
                <div class="pull-right pull-right col-sm-4 col-xs-12 no-padding text-right text-left-xs">
                    <p>Showing 1–450 of 12 results</p>
                </div>
            </div>
            <!--/.categoryFooter-->
        </div>
        <!--/right column end-->
    </div>
    <!-- /.row  -->
</div>
<!-- /main container -->

<div class="gap"></div>
<!-- Product Details Modal  -->
<div class="modal fade" id="product-details-modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">× </button>
            <div class="col-lg-5 col-md-5 col-sm-5  col-xs-12">

                <!-- product Image -->

                <div class="main-image  col-lg-12 no-padding style3">
                    <a class="product-largeimg-link" href="product-details.html">
                                <img  id="productImg" class="img-responsive product-largeimg productImage" alt="img">
                      </a>

                </div>
                <!--/.main-image-->

                @*<div class="modal-product-thumb">
                    <a class="thumbLink selected">
                        <img data-large="~/images/zoom/zoom1.jpg" alt="img" class="img-responsive" src="~/images/zoom/zoom1.jpg">
                    </a>
                    <a class="thumbLink">
                        <img data-large="~/images/zoom/zoom2.jpg" alt="img" class="img-responsive" src="~/images/zoom/zoom2.jpg">
                    </a>
                    <a class="thumbLink">
                        <img data-large="~/images/zoom/zoom3.jpg" alt="img" class="img-responsive" src="~/images/zoom/zoom3.jpg">
                    </a>
                </div>*@
                <!--/.modal-product-thumb-->
            </div>
            <!--/ product Image-->


            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-12 modal-details no-padding">
                <div class="modal-details-inner">
                    <h1 class="product-title" id="productName">Lorem ipsum dolor sit amet</h1>
                    <h3 class="product-code">Product Code : DEN1098</h3>
                    <div class="product-price"><span class="price-sales" id="ProductPrice">$70</span> <span class="price-standard">$95</span> </div>
                    <div class="details-description">
                        <p>In scelerisque libero ut elit porttitor commodo Suspendisse laoreet magna. </p>
                    </div>
                    <div class="color-details">
                        <span class="selected-color"><strong>COLOR</strong></span>
                        <ul class="swatches Color">
                            <li class="selected">
                                <a style="background-color: #f1f40e"></a>
                            </li>
                            <li>
                                <a style="background-color: #adadad"></a>
                            </li>
                            <li>
                                <a style="background-color: #4EC67F"></a>
                            </li>
                        </ul>
                    </div>
                    <!--/.color-details-->

                    <div class="productFilter productFilterLook2">
                        <div class="filterBox">
                            <select>
                                <option value="strawberries" selected>Quantity</option>
                                <option value="mango">1</option>
                                <option value="bananas">2</option>
                                <option value="watermelon">3</option>
                                <option value="grapes">4</option>
                                <option value="oranges">5</option>
                                <option value="pineapple">6</option>
                                <option value="peaches">7</option>
                                <option value="cherries">8</option>
                            </select>
                        </div>
                        <div class="filterBox">
                            <select>
                                <option value="strawberries" selected>Size</option>
                                <option value="mango">XL</option>
                                <option value="bananas">XXL</option>
                                <option value="watermelon">M</option>
                                <option value="apples">L</option>
                                <option value="apples">S</option>
                            </select>
                        </div>
                    </div>
                    <!-- productFilter -->

                    <div class="cart-actions">
                        <div class="addto">
                            <button onclick="productAddToCartForm.submit(this);" class="button btn-cart cart first" title="Add to Cart" type="button">Add to Cart</button>
                            <a class="link-wishlist wishlist">Add to Wishlist</a>
                        </div>
                    </div>
                    <!--/.cart-actions-->

                    <div class="product-share clearfix">
                        <p>SHARE </p>
                        <div class="socialIcon">
                            <a href="#"><i class="fa fa-facebook"></i>
                            </a>
                            <a href="#"><i class="fa fa-twitter"></i>
                            </a>
                            <a href="#"><i class="fa fa-google-plus"></i>
                            </a>
                            <a href="#"><i class="fa fa-pinterest"></i>
                            </a>
                        </div>
                    </div>
                    <!--/.product-share-->
                </div>
                <!--/.modal-details-inner-->
            </div>
            <!--/.modal-details-->
            <div class="clear"></div>
        </div>
        <!--/.modal-content-->
    </div>
    <!--/.modal-content-->
</div>
<!-- End Modal -->

 <script src="@Url.Content("~/Scripts/jquery-1.7.1.js")" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                $(".viewItemDetail").click(function () {
                    var currentProductId = $(this).attr('id');
                    //getProductDetailById
                    $.ajax({
                        url: "/Home/getProductDetailById?productID=" + currentProductId,
                        type: "GET",
                        success: function (data) {
                            // This outputs the result of the ajax request
                            console.log(JSON.stringify(data));
                            $("#productImg").attr('src', "http://localhost:2870/Images/Product/" +
data.result.ProductImage + "");
                            $("#productName").text(data.result.ProductName);
                            $("#ProductPrice").text(data.result.ProductPrice);

                        }
                    });
                    $("#product-details-modal").modal('show');

                });
            });
        </script>
